{# A test page for the dual pane page #}
{% extends "base/li-sidebar-page" %}
{% block title %} Exception Null - Earnings{% endblock %}

{% block content %}
<div class="dashboard">
	<div class="dashboard-row">
		<div class="col col-4 centered">
			<div class="title">Earnings <span class="hint">this month, estimated</span></div>
			<div class="big-number">$11.15</div>
		</div>
		<div class="col col-4 centered">
			<div class="title">Reviews Completed <span class="hint">this month</span></div>
			<div class="big-number">8</div>
		</div>
		<div class="col col-4 centered">
			<div class="title">Grader Score <span class="hint">this month, average</span></div>
			<div class="big-number">3.60</div>
		</div>
	</div>
	<div class="dashboard-row">
		<div class="col col-12">
			<div class="title">History</div>
			<canvas id="earning-review-history">8</canvas>
		</div>
	</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.bundle.min.js"></script>
<script>
	(function() {
		window.onload = function() {
			let ctx = document.getElementById('earning-review-history').getContext('2d');
			let myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: ["May (this month)", "April", "March", "February", "January"],
					datasets: [{
						type: 'bar',
						label: 'Reviews',
						data: [ 8, 4, 7, 8, 5 ],
						backgroundColor: 'rgba(255, 99, 132, 0.2)',
						yAxisID: 'y-axis-1',
					}, {
						type: 'line',
						label: 'Earnings',
						data: [null, '6.23', '10.11', '14.82', '7.56'],
						pointBackgroundColor: 'rgba(153, 102, 255, 0.2)',
						pointHoverBackgroundColor: 'rgba(153, 102, 255, 0.5)',
						fill: false,
						yAxisID: 'y-axis-2'
					}]
				},
				options: {
					responsive: true,
					legend: { display: false, },
					title: { display: false, },
					scales: {
						yAxes: [{
							type: "linear",
							display: true,
							position: "left",
							id: "y-axis-1",
							gridLines:{ display: false },
							labels: { show: true, },
							ticks: { beginAtZero: true }
						}, {
							type: "linear",
							display: true,
							position: "right",
							id: "y-axis-2",
							gridLines:{ display: false },
							labels: { show: true, },
							ticks: {
								beginAtZero: true,
								callback: function(label) {
									return  '$' + label.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
								}
							}
						}]
					}
				}
			});
		}
	} ());
</script>
{% endblock %}
